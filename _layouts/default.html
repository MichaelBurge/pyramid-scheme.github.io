<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="msvalidate.01" content="502724CEA9E85BB70D3AFD0AEAF4A9B1" />
  
    <title>{% if page.title %}{{ page.title | escape }}{% else %}{{ site.title | escape }}{% endif %}</title>
    <meta name="description" content="{{ page.excerpt | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}">
    
    <link rel="stylesheet" href="{{ "/css/main.css" | relative_url }}">
    <link rel="canonical" href="{{ page.url | replace:'index.html','' | absolute_url }}">
    <link rel="alternate" type="application/rss+xml" title="{{ site.title | escape }}" href="{{ "/feed.xml" | relative_url }}">
    
    {% if jekyll.environment == 'production' and site.google_analytics %}
    {% include google-analytics.html %}
    {% endif %}
    {% comment %}http://mattgemmell.com/page-specific-assets-with-jekyll/{% endcomment %}
    {% if page.custom_css %}
    {% for stylesheet in page.custom_css %}
    <link rel="stylesheet" href="/css/{{ stylesheet }}.css" media="screen" type="text/css">
    {% endfor %}
    {% endif %}
    
    {% if page.custom_js %}
    {% for js_file in page.custom_js %}
    <script src='/javascripts/{{ js_file }}.js' type="text/javascript" async></script>
    {% endfor %}
    {% endif %}
    
  </head>
  
  <body>
    
    <main class="page-content" aria-label="Content">
      {{ content }}
    </main>
    
    {% assign javascript_files = site.static_files | where: "javascript", true %}
    {% for file in javascript_files %}
    <script src="{{ file.path }}" async></script>
    {% endfor %}
  </body>
</html>
